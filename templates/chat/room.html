{% extends "chatbase.html" %}
{% block title %}
    채팅방 입장.
{% endblock %}

{% block content %}
    {% load staticfiles %}
    <h1>{{ room.label }}방은 허가된 사용자만 입장가능합니다.</h1>
    <p>
        <input id="handle" type="text" placeholder="handle"/>
        <label for="handle">Your name : </label>
    </p>

    <form id="chatform">
        <table id="chat">
            <tbody>
                {% for message in messages %}
                    <tr>
                        <td>{{ message.formatted_timestamp }}</td>
                        <td>{{ message.handle }}</td>
                        <td>{{ message.message }}</td>
                    </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr>
                    <td>Say something : </td>
                    <td colspan="2">
                        <input id="message" type="text" placeholder="message">
                        <button type="submit" id="go">Say it</button>
                    </td>
                </tr>
            </tfoot>
        </table>
    </form>

{% endblock content %}

{% block afterbody %}
  <script type="text/javascript" src='{% static "jquery-1.12.1.min.js" %}'></script>
  <script type="text/javascript" src='{% static "reconnecting-websocket.min.js" %}'></script>
  <script type="text/javascript" src='{% static "chat.js" %}'></script>
{% endblock afterbody %}